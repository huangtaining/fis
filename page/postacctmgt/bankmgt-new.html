<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>修改银行卡</title>
    <link rel="import" href="../layout/header.html?__inline">
    <script src="/modules/app/jquery.validate.min.js"></script>
    <script>
        var $ = require('jquery');
        require('modules/app/jquery.validate.min');
    </script>
</head>
<body>
<link rel="import" href="modules/widget/header/header-login.html?__inline">
<section class="changebankmgt">
    <div class="sub_coll">
        <p class="position">您的当前位置：账户管理 > 银行卡管理 > 添加银行卡</p>
    </div>
    <div class="content">
        <h2>添加银行卡</h2>
        <div class="card-content">
            <form action="" class="formsubmit">
                <ul>
                    <li>
                        <p>
                            <label for=""><em>*</em>用户名：</label>
                            <input type="text" name="usename" id="usename">
                        </p>
                        <p class="tips">银行账户（银行卡）持有人的真实姓名</p>
                    </li>
                    <li>
                        <p class="zjlx">
                            <label for=""><em>*</em>证件类型：</label>
                            <input type="checkbox" name="zjlxtest" onclick="checkCanel(this)"  id="cxcard"> <label for="cxcard" name="card" class="sub-zjlx">储蓄卡(借记卡)</label>
                            <input type="checkbox" name="zjlxtest" onclick="checkCanel(this)" id="xycard"> <label for="xycard" name="card" class="sub-zjlx">信用卡(贷记卡)</label>
                            <input type="checkbox" name="zjlxtest" onclick="checkCanel(this)" id="czcard"> <label for="czcard" name="card" class="sub-zjlx">结算账户/存折</label>

                        </p>
                    </li>
                    <li class="bankadd">
                        <p>
                            <label for=""><em>*</em>开户银行所在地：</label>
                            <select  id="jungle" name="jungle" title="Please select something!" class="{required:true}">
                                <option value="" name="addcheck">请选择</option>
                                <option value="1" name="addcheck">上海</option>
                            </select>
                            <select name="" id="" name="addcheck">
                                <option value="">上海</option>
                            </select>
                        </p>
                        <p class="tips">如果找不到所在城市，可以选择所在地区或者上级城市</p>
                    </li>
                    <li class="ssyh">
                        <p>
                            <label for=""><em>*</em>所属银行：</label>
                            <select name="junglebank" id="">
                                <option value="1">华夏银行</option>2
                            </select>
                        </p>
                    </li>
                    <li>
                        <p>
                            <label for=""><em>*</em>银行账户/银行卡号：</label>
                            <input type="text" name="cardcheck">
                        </p>
                        <p class="tips">• 银行账号/银行卡号为数字，且长度应该在6位于是32位之间！</p>
                        <p class="tips">• 存折账号的“＊”和企业账户的“＊”在此均无需输入</p>
                    </li>
                    <li >
                        <p>
                            <label for=""><em>*</em>开户行名称：</label>
                            <input type="text" name="bankname">
                        </p>

                        <p class="bankname">
                            请务必正确填写您的银行卡开户行名称！如果不填写或者填写不正确，将会导致银生宝账户内的资金无法正常汇入卡内！<br>
                            此处无需重复填写银行名称与省市，只需填写具体名称。如：海淀支行海体分理处。<br>
                            如果您无法确定银行卡的开户名称，请致电银行客服，报出卡号即可获得开户行信息。
                        </p>
                    </li>
                    <li>
                        <p>
                            <label for=""><em>*</em>账户别名：</label>
                            <input type="text" name="zhname">
                        </p>
                        <p class="tips">自定义，方便您管理。（最长为15个汉字或45个字母）</p>
                    </li>
                    <li class="bankbtn">
                        <p>
                            <button class="sure">保存账户</button>
                            <button class="back">返回</button>
                        </p>
                    </li>
                </ul>
            </form>

        </div>



</section>









<link rel="import" href="modules/widget/footer/footer.html?__inline">
<script src="lib/mod.js"></script>
<script>
    require('ui/index');
</script>
<script>
    //    form验证
    $(".submit").click(function(){
        if($(".formsubmit").valid()){
            // alert("提交成功")
        }else{
            // alert("提交失败")
        }
    });
    //    自定义预留信息
    jQuery.validator.addMethod("hanzm", function(value, element) {
        return this.optional(element) || /^[A-Za-z]{0,45}$/.test(value)||/^[\u4e00-\u9fa5]{0,15}$/.test(value);
    }, "匹配english");


    $(".formsubmit").validate({
        errorPlacement:function(error,element){
            error.appendTo(element.parent())
        },
        rules:{
            usename: {
                required: true,
                minlength: 2
            },
            zjlxtest: {
                required: true
            },
            jungle: {
                required: true
            },
            junglebank: {
                required: true
            },
            cardcheck: {
                required: true,
                digits: true,
                rangelength: [6,32]
            },
            bankname: {
                required: true,
            },
            zhname: {
                required: true,
                hanzm: true
            },        },
        messages:{
            usename: {
                required: "请输入用户名",
                minlength: "用户名必需由两个字母组成"
            },
            zjlxtest: {
                required: "请选择证件类型",
            },
            jungle: {
                required: "请选择城市",
            },
            junglebank: {
                required: "请选择城市",
            },
            cardcheck: {
                required: "请输入银行卡号",
                digits: "请正确的银行卡号",
                rangelength: "请正确的银行卡号"
            },
            bankname: {
                required: "请填写开户行名称",
            },
            zhname: {
                required: "请填写开户行名称",
                hanzm: "请输入正确的格式"
            }
        }
    });

    //证件类型设置单选
    var $ = require('jquery');
    function checkCanel(Obj){
        $("input[name='zjlxtest']").each(function(){
            $(this).attr("checked",false);
        });
        Obj.checked=true;
    }
</script>
</body>
</html>