<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>实名认证</title>
    <link rel="import" href="../layout/header.html?__inline">
    <link rel="stylesheet" href="../modules/css/ysbformvalidate.scss" media="screen" title="no title">
    <style type="text/css">
    .addcard .tips2{height: 62px;width: 1100px;margin: 0 auto; padding-left:0px;line-height:80px;font-size: 18px; color: #585858; margin-bottom: 55px;border-bottom: 1px solid #e4e4e4;}
    .addcard p.tips2{margin-bottom:60px !important;}
    
.addcard .card-content .form-group label { width: 132px;margin-top: 13px;text-align: right;margin-left: 159px;font-weight: normal;margin-right: 17px;}
.addcard .card-content .form-group label em{font-size: 19px;vertical-align: middle;color: #FF8700;font-style: normal;font-weight: normal;}
.addcard #defaultForm>div{margin-bottom: 33px;}
#defaultForm .form-group .button_btn .btn-primary{background-color: #EE8719;}
#defaultForm .form-group .button_btn .btn-primary:hover{background-color: #D26D02;}
.modal-content .img{padding: 20px 0 20px 0;text-align: center;}
.alertBox_nav{height: 23px;color: #000000;font-weight: bold;font-size:24px;text-align: center;padding-left: 10px;padding-right: 10px;line-height: 23px;margin: 1px;}
.alertBox_body{font-size: 14px;padding: 15px;width: 70%;margin: 0 auto}
.alertBox_body p{font-weight: bold;}
.alertBox_body .ok{margin: 0 auto;width: 120px;height:28px;line-height:28px;text-align: center;border-radius:5px;border: 1px solid #BBBBBB;margin-top:15px ;color: #000000;}

    </style>
</head>
<body>
<link rel="import" href="modules/widget/header/header-login.html?__inline">
<section class="addcard">
    <div class="sub_coll">
        <p class="position">您的当前位置：我的银生宝 > 安全管理</p>
    </div>
    <div class="content">
        <h2 style="padding: 23px 0 18px 50px;">实名认证</h2>
        <div class="card-content" style="height: 800px;">
           <form id="defaultForm" method="post" class="form-horizontal ysbformvalidate" action="#">
                <p class="tips2">验证实名信息</p>
                <div class="form-group has-feedback has-error">
                    <label for=""><em>*</em>真实姓名：</label>             
                    <input type="username" class="form-control" name="username" placeholder="请输入您的真实姓名">
                    <div class="errorholder" style="float: right;width: 280px;margin-right:230px;margin-left: 0;"></div>				
                </div>
                <div class="form-group has-feedback has-error">
                    <label for=""><em>*</em>身份证号码：</label>
                    <input type="IDcard" class="form-control" name="IDcard" placeholder="请输入您的身份证号码">
                    <div class="errorholder" style="float: right;width: 280px;margin-right:230px;margin-left: 0;"></div>
                </div>
        <p class="tips2">绑定银行卡</p>
                <div class="form-group has-feedback has-error">
                    <label for=""><em>*</em>银行账号：</label>
                    <input type="bankcard" class="form-control" name="bankcard" placeholder="请输入您银行账号">
                    <div class="errorholder" style="float: right;width: 280px;margin-right:230px;margin-left: 0;"></div>
                </div>
                <div class="form-group has-feedback has-error">
                    <label for=""><em>*</em>银行预留手机号：</label>
                    <input type="iphone" class="form-control" name="iphone" placeholder="请输入您的银行预留手机号">
                    <div class="errorholder" style="float: right;width: 280px;margin-right:230px;margin-left: 0;"></div>
                </div>
                <div class="mess form-group has-feedback has-error">
                    <label for=""><em>*</em>短信验证码：</label>
                    <input type="text" class="form-control" name="ddlQuestion" id="ddlQuestion" placeholder="请输入验证码">
                    <input type="button" id="btn" value="免费获取激活码" style="width:160px;margin-left:15px;text-indent: 0;background-color: #F7F7F7;border:1px solid #D5D5D5;" />
                    
                    <div class="errorholder" style="float: right;width: 280px;margin-right:230px;margin-left: 0;"></div>
                </div>

                   <div class="form-group" style="padding-top:10px;">
						<div class="button_btn" style="padding: 0px;margin-left:166px">
							<button id="btnSubmit" type="submit" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal" name="signup2" value="Sign up 2" style="margin-left: 140px;">下一步</button>
						</div>
					</div>

            </form>
        </div>
<!--添加成功的   弹框-->
 <!--弹出框-->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" style="margin-top: 10%;">
		<div class="modal-content" style="width:280px;margin: 0 auto;">
			<div class="img"><img src="/imgs/icons/B3-18.png" alt="" /></div>
	<div class="alertBox_nav">实名认证成功 !</div>
	<div class="alertBox_body">		
		<a href="index.html"><div class="ok">确认</div></a>
	</div>
		</div><!-- /.modal-content -->
	</div><!-- /.modal -->
</div>


</section>

<link rel="import" href="modules/widget/footer/footer-login.html?__inline">
<script src="lib/mod.js"></script>
<script>
	require('ui/index');
</script>
<script type="text/javascript">
			$(document).ready(function() {

				require('modules/app/jquery.bootstrapValidator');

				// Generate a simple captcha
				function randomNumber(min, max) {
					return Math.floor(Math.random() * (max - min + 1) + min);
				};

				$('#captchaOperation').html([randomNumber(1, 100), '+', randomNumber(1, 200), '='].join(' '));

				$("#btnSubmit").bind("click", function() {
					alert("Submit");
                  
				});

				$('#defaultForm').bootstrapValidator({
					//live: 'disabled',
					message: 'This value is not valid',
					feedbackIcons: {
						valid: 'glyphicon glyphicon-ok',
						invalid: 'glyphicon', //glyphion-remove
						validating: 'glyphicon glyphicon-refresh'
					},
					fields: {
						username: {
							validators: {
								callback: {
									message: '请输入您的真实姓名',
									callback: function(value, validator) {
										var isvalid = true;
										var re =/[\u4e00-\u9fa5]+/;										
										if(re.test(value)) {
											isvalid = true;
										} else {
											isvalid = false;
										}
										if(isvalid) {
											validator.updateStatus('username', 'VALID');
											return true;
										} else {
											return false;
										}
									}
								}
							}
						},
				IDcard: {
						validators: {
								callback: {
									message: '请输入您的身份证号码',
									callback: function(value, validator) {
										var isvalid = true;
										var re = /^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/;
										if(re.test(value)) {
											isvalid = true;
										} else {
											isvalid = false;
										}
										if(isvalid) {
											validator.updateStatus('IDcard', 'VALID');
											return true;
										} else {
											return false;
										}
									}
								}
							}
						},
					bankcard: {
							validators: {
								notEmpty: {
									message: '请输入您的银行账户',
								}
							}
						},
                    iphone: {
							validators: {
								callback: {
									message: '请输入您的银行预留手机号码',
									callback: function(value, validator) {
										var isvalid = true;
										var re = /^1[34578]\d{9}$/;
										if(re.test(value)) {
											isvalid = true;
										} else {
											isvalid = false;
										}
										if(isvalid) {
											validator.updateStatus('iphone', 'VALID');
											return true;
										} else {
											return false;
										}
									}
								}
							}
						},
						ddlQuestion: {
							validators: {
								notEmpty: {
									message: '请输入验证码'
								}
							}
						}
				
					}
				});

				// Validate the form manually
				$('#validateBtn').click(function() {
					$('#defaultForm').bootstrapValidator('validate');
					
				});

				$('#resetBtn').click(function() {
					$('#defaultForm').data('bootstrapValidator').resetForm(true);
					
				});
			});
		</script>
		<!--倒计时-->
		<script type="text/javascript">
			var wait = 60;

			function time(o) {
				if(wait == 0) {
					o.removeAttribute("disabled");
					o.value = "免费获取验证码";
					wait = 60;
				} else {

					o.setAttribute("disabled", true);
					o.value = "(" + wait + ")秒后，重新获取";
					wait--;
					setTimeout(function() {
							time(o)
						},
						1000)
				}
			}
			document.getElementById("btn").onclick = function() {
				time(this);
			}
		</script>
</body>
</html>