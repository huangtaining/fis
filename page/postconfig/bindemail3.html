<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>账号激活</title>
		<link rel="import" href="../layout/header.html?__inline">
		<!--STYLE_PLACEHOLDER-->
		<link rel="stylesheet" href="modules/css/ysbformvalidate.scss" media="screen" title="no title">
	</head>

	<body>
		<link rel="import" href="modules/widget/header/header.html?__inline">
		<div class="forgot_password_box">
			<div class="forgot_password password">
				<h1>激活邮箱</h1>
				<div class="password_content personal_top">
					<div class="jihuo" style="padding-left: 30px;"><b></b>如果您已经获得了绑定该Email的激活码，请进行下面的操作</div>
					<div>
						<abbr>
							<p style="margin-right: 10px;margin-left: 100px;width: 30px;height: 30px;line-height: 30px;border-radius:50%;background-color: #009EE7;vertical-align: middle;color: #fff;text-align: center;display: inline-block;">1</p>
							填写Email获取验证码
						</abbr>
					    <abbr>
					    	<p style="margin-right: 10px;margin-left: 100px;width: 30px;height: 30px;line-height: 30px;border-radius:50%;background-color:#C8C2BD;vertical-align: middle;color: #fff;text-align: center;display: inline-block;">2</p>
					    	激活成功</abbr>
					</div>
					<form id="defaultForm" method="post" class="form-horizontal ysbformvalidate bv-form">

						<div class="biaodan" style="padding-bottom: 20px;">
							<div class="form-group has-feedback">
								<label class="col-md-3 control-label" style="margin-left:110px;"><b>*</b>  您的E-mail地址：</label>
								<div class="col-md-8">
									<input type="email" class="form-control" name="email" placeholder="请输入您的E-mail地址" />
									<div class="errorholder">
									</div>
								</div>
							</div>
							
							<div class="form-group has-feedback">
								<label class=" col-md-3 control-label" style="margin-left:110px;"><b>*</b> 收到的激活码：</label>

								<div class=" col-md-8">
									<input type="text" class="form-control" name="ddlQuestion" placeholder="请输入验证码" />
									<input type="button" id="btn" value="重新获取激活码" style="width:175px;margin-left:15px;text-indent: 0;background-color: #F7F7F7;border:1px solid #D5D5D5;" />
									<div class="errorholder" style=" width: 110px;float: right;margin-right: 0;">
									</div>
								</div>
							</div>
							<em style="width:433px;margin-left:168px;">如果您没有收到激活信，请点击 <abbr style="color:#00A0E8">重新获取激活码</abbr></em>
							<div class="form-group" style="padding: 10px 0;">
								<div class="button_btn" style="padding: 10px 0;">
									<button id="btnSubmit" type="submit" class="btn btn-primary" name="signup2" value="Sign up 2" style="margin-left:110px;">
                            	激活
                            </button>
								</div>
							</div>
						</div>
					</form>
				</div>
				
			</div>
		</div>
		<link rel="import" href="modules/widget/footer/footer.html?__inline">

		<script src="../lib/TweenMax.min.js" type="text/javascript" charset="utf-8" data-framework></script>

		<script src="lib/mod.js" data-loader></script>

		<script type="text/javascript">
			$(document).ready(function() {

				require('modules/app/jquery.bootstrapValidator');

				// Generate a simple captcha
				function randomNumber(min, max) {
					return Math.floor(Math.random() * (max - min + 1) + min);
				};

				$('#captchaOperation').html([randomNumber(1, 100), '+', randomNumber(1, 200), '='].join(' '));

				$("#btnSubmit").bind("click", function() {
					alert("Submit");
				});

				$('#defaultForm').bootstrapValidator({
					//live: 'disabled',
					message: 'This value is not valid',
					feedbackIcons: {
						valid: 'glyphicon glyphicon-ok',
						invalid: 'glyphicon', //glyphion-remove
						validating: 'glyphicon glyphicon-refresh'
					},
					fields: {
						email: {
							validators: {
								callback: {
									message: '请填写手机号码或者邮箱',
									callback: function(value, validator) {
										var isvalid = true;
										var re = /^(13[0-9]{9})|(15[89][0-9]{8})$/;
										var re_email = /\w@\w*\.\w/;
										if(re.test(value) || re_email.test(value)) {
											isvalid = true;
										} else {
											isvalid = false;
										}
										if(isvalid) {
											validator.updateStatus('username', 'VALID');
											return true;
										} else {
											return false;
										}
									}
								}
							}
						},
						ddlQuestion: {
							validators: {
								notEmpty: {
									message: '不能为空'
								}
							}
						}
					}
				});

				// Validate the form manually
				$('#validateBtn').click(function() {
					$('#defaultForm').bootstrapValidator('validate');
				});

				$('#resetBtn').click(function() {
					$('#defaultForm').data('bootstrapValidator').resetForm(true);
				});
			});
		</script>
		<!--倒计时-->
		<script type="text/javascript">
			var wait = 60;

			function time(o) {
				if(wait == 0) {
					o.removeAttribute("disabled");
					o.value = "免费获取验证码";
					wait = 60;
				} else {

					o.setAttribute("disabled", true);
					o.value = "(" + wait + ")秒后，重新获取验证码";
					wait--;
					setTimeout(function() {
							time(o)
						},
						1000)
				}
			}
			document.getElementById("btn").onclick = function() {
				time(this);
			}
		</script>
		<script>
			require('ui/index');
		</script>
		<!--SCRIPT_PLACEHOLDER-->
	</body>

</html>